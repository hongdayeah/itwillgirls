# 도담도담 어린이문화센터

>아동의 성향을 파악할 수 있는 MBTi 테스트를 통해 체험 프로그램을 매칭해주고 
다양한 공연을 예매할 수 있는 웹 사이트 구현 프로젝트입니다.



## 프로젝트 링크
- http://3.38.56.39:8080/home.do

## 프로젝트 목적
- 아동 문화활동을 촉진할 수 있음.
- 교육적 콘텐츠를 제공할 수 있음.
- 아동 사회성 발달에 기여할 수 있음.

## 개발목적
- 하나의 완전한 웹사이트를 구현함으로써 웹사이트 구축의 흐름을 이해할 수 있음.
- 테스트, 공연좌석선택, 장바구니, 주문 등의 주요 기능을 구현하며 구현에 필요한 부분들을 공부할 수 있음.
- ajax 등 많이 다뤄보지 않은 기술들을 접해볼 수 있음.

## 팀원소개

    홍다예 (PM) : 프로그램 정보 / 강사정보 / 성향정보 / 테스트 / 결과 및 프로그램 매칭 / 장바구니 / 주문내역
    민혜진 : 회원가입 / 로그인 / 회원정보관리 및 수정 / 회원탈퇴 / 마이페이지 / 관리자페이지
    김지현 : 공연정보 / 좌석선택 / 장바구니 / 주문서 / 결제
    김효원 : 대관신청 / 대관내역 / 대관안내 / 공간소개 / 공지사항 / FAQ / 문의게시판

## 프로젝트 설명

    모든 사람들은 자신의 성향에 맞는 취미생활, 문화생활을 즐긴다.
    어린이들은 부모에 의해 문화생활을 경험하는 경우가 많으며 대개는 부모가 원하는 문화생활인 경우가 많다.
    자녀에게 도움이 되는 체험 프로그램을 하고자하는 부모와 원하는 활동을 하고싶어하는 아이의 모든 바람을 충족해주는
    프로그램을 매칭해주면 어떨까? 라는 의문에서 프로젝트를 시작했다.
    내성적인 아이에게는 강제로 자기주도적이고 적극적인 프로그램보단 내면을 진지하게 탐구하는 프로그램으로,
    외향적인 아이에게는 에너지를 바깥으로 표출시키는 프로그램으로 각자의 니즈를 만족시키면서
    알맞은 방향으로 사회성을 기를 수 있도록 유도할 수 있는 방향의 사이트를 제작하려고 했다.

####

    1) 웹사이트의 정보는 비회원도 읽을 수 있지만 테스트 진행 및 예매는 회원만 가능하다.

    2) 회원은 자녀 정보를 등록할 수 있고 해당 자녀의 테스트 결과와 찜한 프로그램 및 예매내역을 마이페이지에서 확인할 수 있다. 

    3) 관리자는 관리자페이지에서 테스트에 대한 정보를 관리할 수 있다.

    4) [프로그램] 탭에서는 해당 센터에서 진행하는 체험 프로그램의 정보와 프로그램을 진행하는 강사정보, 테스트 정보와 테스트진행을 할 수 있고 원하는 프로그램을 장바구니에 넣을 수 있다.

    5) [공연] 탭에서는 해당 센터에서 주최하는 공연의 정보를 확인하고 좌석을 선택하여 장바구니에 넣을 수 있다.

    6) [시설] 탭에서는 해당 센터의 시설 정보와 대관정보를 확인할 수 있다.

    7) [소식] 탭에서는 센터의 공지사항, 자주묻는 질문(FAQ), 문의게시판을 이용할 수 있다.

## 개발일정
![일정1](https://github.com/hongdayeah/itwillgirls/assets/132259579/1caab42b-9b54-4127-8948-59af2c62531d)
![일정2](https://github.com/hongdayeah/itwillgirls/assets/132259579/112028d9-09b7-4622-990a-4faf9cc91737)

## ERD
![erd](https://github.com/hongdayeah/itwillgirls/assets/132259579/42736908-f9c1-4112-a80b-ce301d9d8798)

## 기술스택
#### Frontend
    HTML, CSS, JavaScript, JQuery, Ajax, bootstrap
#### Backend
    Java, JSP, Spring Framework, MyBatis
#### Database
    MariaDB, DBeaver

## 기능설명
#### 프로그램정보 목록보기 (회원)
![11](https://github.com/hongdayeah/daye/assets/132259579/066d03e6-95cd-4f66-8a06-52985caf3176)
    
    - 목록에서는 센터에서 진행하는 프로그램의 전체 목록을 볼 수 있습니다
    - 수강기간, 해당 프로그램을 찜한 횟수 (관심등록), 프로그램의 MBTi성향(동물 이름)이 표시됩니다.
    - MBTi의 태그는 해당 부트스트랩에서 자체 제공하는 태그를 사용했습니다.
    - 프로그램은 한 줄에 두 개씩 보여집니다.
    - 관리자는 목록 화면의 우측에 [등록하기] 버튼이 보여지고 해당 버튼을 통해 프로그램을 등록할 수 있습니다.

#### 프로그램 등록하기 (관리자)
![66](https://github.com/hongdayeah/daye/assets/132259579/1eb39ec7-14dd-4a57-9253-48adf4a7a2ab)

    - 새 프로그램을 등록할 수 있습니다.
    - 프로그램 코드는 4가지 과목으로 구분할 수 있고 해당 코드는 program_info 테이블의 기본키가 됩니다.
    - 사용자가 4가지 중 하나를 선택할 수 있습니다. 미술은 A, 체육은 S, 교육은 E, 음악은 M입니다.
      등록하기를 누르면 코드는 A01, A02, S01, S02 ...의 형식으로 저장됩니다. 해당 형식은 Controller에서 해당 알파벳 코드를 먼저 찾은 후 그 코드에 붙은 숫자들 목록 중에서 가장 큰 수를 찾아 그 다음 숫자(+1을 한)를 반환하여 프로그램 코드 컬럼에 추가하는 방식을 사용했습니다.

#### 프로그램정보 상세보기 (회원)
![22](https://github.com/hongdayeah/daye/assets/132259579/5d2c56cc-ad60-4181-b37a-48d4205ab659)

    - 목록에서 원하는 프로그램을 클릭하면 상세보기 페이지로 이동합니다.
    - 한번 클릭 하면 해당 프로그램의 조회수가 카운트되고 총 조회수가 왼쪽에 표시됩니다.
    - 프로그램 상세정보 하단에 하트를 누르면 ajax를 이용하여 회색의 하트이미지가 빨간 하트 이미지로 변하게 구현 했습니다.
    - 해당 프로그램을 몇 명이 찜 했는지의 개수를 왼쪽에 표시했습니다.
    - 전체 프로그램의 정보를 담는 테이블은 program_info입니다. 수업 타임은 관리자가 최대 2타임까지 추가할 수 있으며,  테이블프로그램 상세보기 페이지에서 추가합니다. program_info의 프로그램 코드를 참조하여 program_time 테이블에 추가가 됩니다.
    - 수량을 선택하면 장바구니에 담을 수 있습니다.
    - 예매내역 테이블에 존재하는 id에 한해서 프로그램 코드와 아이디가 존재하면 프로그램 후기를 쓸 수 있습니다.
      내역이 없으면 후기를 쓸 수 없습니다.
    - 관리자는 해당 페이지의 우측에서 [시간표등록], [수정], [삭제] 버튼이 표시되고 해당 작업을 수행할 수 있습니다.

#### 프로그램 시간표 등록하기 (관리자)
![77](https://github.com/hongdayeah/daye/assets/132259579/a004a3aa-0efe-4925-bb2c-2009825408d9)

    - 원하는 프로그램의 시간표를 두 개까지 등록할 수 있습니다.
    - 프로그램코드는 클릭한 프로그램의 코드로 고정되어 있고 readonly 제약으로 인해 수정할 수 없습니다.
    - 해당 프로그램 코드의 시간표를 등록하게 되면 program_time테이블에 "프로그램코드_01" 형식의 코드가 생성되고
      해당 코드는 program_time 테이블의 기본키가 됩니다.
    - 장소는 room_class테이블의 모든 행을 가져오게 되어있어서 추가가 되면 자동으로 보여지는 목록에도 반영됩니다.
    - 담당강사 역시 teacher테이블의 모든 행을 가져오도록 되어있습니다.

#### 테스트하기(1)
![99](https://github.com/hongdayeah/daye/assets/132259579/1ea3d62a-30ed-4253-ba38-e729073b6c7b)

    - 테스트 시작화면에서는 로그인한 회원이 등록해둔 자녀 중 한명을 선택해서 테스트를 할 수 있습니다.
    - 자녀목록 select리스트는 자녀테이블에서 로그인 한 아이디에 해당하는 자녀 목록을 가져와서 보여줄 수 있습니다.

#### 테스트하기(2)
![111](https://github.com/hongdayeah/daye/assets/132259579/1af31b9a-ee11-44d4-bda1-bd8ff52b36cb)

    - 테스트는 1부 / 2부로 나뉘어 있습니다. DB의 테스트 성향정보를 담고 있는 테이블과 문제의 정보를 담고 있는 테이블 역시 두개로 나뉘어 있습니다. 
    - 자녀의 테스트 결과를 저장하는 테이블이 있습니다. 1부 결과 컬럼과 2부 결과 컬럼이 있습니다.
      1부의 결과에서 그렇다가 6개 이상이면 1부 테스트의 결과컬럼에 "I"(내성적임)로 저장이 됩니다. 그렇지않을 경우 "E"(외성적임)으로 저장됩니다.
    - 다음으로 넘어가면 해당 자녀의 테스트 2부가 진행됩니다.

#### 테스트하기(3)
![222](https://github.com/hongdayeah/daye/assets/132259579/4bf984fe-065d-4a64-972b-32edabfe62de)

    - 테스트 2부의 결과에서 그렇다가 6개 이상이면 2부 테스트의 결과컬럼에 "E"(외향적임)으로 저장됩니다. 그렇지않을 경우
      "I"(내향적임)으로 저장됩니다.
    - 테스트 결과보기를 누르면 해당 자녀의 테스트 결과페이지가 나옵니다.
    - 해당 테스트를 통해 1부에서는 외성적인지/내성적인지를 알 수 있고, 2부에서는 외향적인지/내향적인지 알 수 있습니다.
    - 1부에서의 결과는 E 또는 I, 2부에서의 결과도 E 또는 I가 나올 수 있고 테스트 결과는 1부결과컬럼+2부결과컬럼이 합쳐진 
      EI / EE / II / IE 네 가지 중 하나로 나옵니다.

#### 테스트결과
![333](https://github.com/hongdayeah/daye/assets/132259579/77d7f58a-5a84-45c5-a88e-836f762456c8)

    - 테스트 결과에서는 해당 자녀의 테스트 결과를 확인할 수 있습니다.
    - EI / EE / II / IE 는 각각 양 / 사자 / 늑대 / 기린 으로 사용자가 알기 쉽게 표현했습니다.
    - 특성을 간단히 표시했습니다. 특성 테이블에 있는 정보를 불러옵니다.
    - 결과에 나온 타입에 해당하는 프로그램들을 아래에 목록형태로 불러왔습니다. 클릭하면 상세페이지로 바로 이동합니다.
    
#### 장바구니
![33](https://github.com/hongdayeah/daye/assets/132259579/07e198d5-e78e-4240-94c5-3d9618ff44c3)

    - 장바구니 목록은 프로그램 / 공연 각각 볼 수 있게 나뉘어 있습니다.
    - 삭제 버튼을 통해 개별 삭제가 가능합니다.
    - 자바스크립트를 이용하여 체크를 활성화함과 동시에 오른쪽 하단에 체크한 총 건수와 금액이 바로 반영되게 구현했습니다. 
    - 주문하기 버튼을 누르면 체크된 건만 주문확인 폼으로 넘어갑니다.

#### 주문확인 폼(결제 전)
![44](https://github.com/hongdayeah/daye/assets/132259579/b1bd02df-553b-4374-9902-81c42016f553)

    - 결제 전 주문을 확인하는 창입니다.
    - 주문번호는 "연+월+일+시+분+초"-"주문테이블의 총 건수"로 구성하는 sql문을 활용했습니다.
    - 결제를 누르면 카카오결제 api창이 뜹니다.

#### 결제 내역(결제 후)
![55](https://github.com/hongdayeah/daye/assets/132259579/d57a2322-56da-45a0-9956-9e8e001987ac)

    - 결제 내역은 장바구니와 동일하게 프로그램 / 공연 각각 볼 수 있게 나뉘어 있습니다.
    - 주문번호, 프로그램명, 예매 수량, 금액, 합계를 확인 할 수 있습니다.


#### 공연정보 리스트

https://github.com/hongdayeah/itwillgirls/assets/135087145/9f4fa025-d863-4187-83ae-d68da5e2ec2d

    - 목록에서는 센터에서 진행하는 공연의 전체 목록을 볼 수 있습니다
    - 공연날짜, 공연시간, 공연제목, 공연설명이 표시됩니다.
    - 공연은 한 줄에 두 개씩 보여집니다.
    - 관리자는 목록 화면의 우측에 [등록하기] 버튼이 보여지고 해당 버튼을 통해 공연을 등록할 수 있습니다.

    
#### 공연정보 상세보기

https://github.com/hongdayeah/itwillgirls/assets/135087145/38c7dfb7-690f-4943-ad88-05f0e4264a77

    - 목록에서 원하는 프로그램을 클릭하면 상세보기 페이지로 이동합니다.
    - 진행중인 공연의 상세정보를 확인할 수 있습니다.
    - [좌석예매] 버튼을 누르면 좌석예매 창으로 넘어갑니다.
    

#### 공연 예매하기

https://github.com/hongdayeah/itwillgirls/assets/135087145/522159db-c813-4c6e-81e7-a5f92eddec6c

    - 공연정보가 적혀있고 수량을 선택할 수 있습니다.
    - 원하는 선택 수량 후 좌석을 수량(1-5) 선택 후 예매를 진행합니다.
    - 좌석은 판매가능한좌석/ 불가능한좌석/ 선택한 좌석이 표시됩니다.
    - 선택한 좌석은 한번 더 선택시 선택이 취소됩니다.
    - 예매하기를 누르면 공연명/ 날짜/ 시간/ 선택좌석 및 수량 정보가 표시됩니다.
    - 확인을 누르면 예매 정보가 장바구니로 넘어갑니다.
    

#### 공연 등록하기

https://github.com/hongdayeah/itwillgirls/assets/135087145/0f0ddc26-c7f2-4ba5-ad86-8523e04cce66

    - 관리자 로그인 시 공연 등록, 수정, 삭제가 가능합니다.



## 최종산출물
#### 발표 PPT
![슬라이드1](https://github.com/hongdayeah/itwillgirls/assets/132259579/5d13fb77-d3f1-4f35-8d1b-324be824286c)
![슬라이드3](https://github.com/hongdayeah/itwillgirls/assets/132259579/772b8f90-d1f5-404b-b6bd-136d88a7c9d9)
![슬라이드12](https://github.com/hongdayeah/itwillgirls/assets/132259579/d42dc412-9139-420f-8080-b3dbe4c76fbb)
![슬라이드13](https://github.com/hongdayeah/itwillgirls/assets/132259579/7e652f3c-30d9-4dd8-b26d-4bc1362435cf)
![슬라이드14](https://github.com/hongdayeah/itwillgirls/assets/132259579/c38d94a5-6d53-4bc1-9106-e2a3c4ec316e)
![슬라이드15](https://github.com/hongdayeah/itwillgirls/assets/132259579/22b0bdd5-a6a9-4118-9546-f7a1d4e720f5)
![슬라이드16](https://github.com/hongdayeah/itwillgirls/assets/132259579/4376af27-6fea-4d9d-90cc-1418b6969511)
![슬라이드17](https://github.com/hongdayeah/itwillgirls/assets/132259579/29b02537-053a-4dae-b2a8-5d6a9dc5567b)
![슬라이드18](https://github.com/hongdayeah/itwillgirls/assets/132259579/dfc8786b-d274-458c-a224-cfde2bf22052)
![슬라이드19](https://github.com/hongdayeah/itwillgirls/assets/132259579/ec7e9311-1e08-4f37-a542-eb6f9c2e44cc)
![슬라이드20](https://github.com/hongdayeah/itwillgirls/assets/132259579/81cf00ec-a5f9-44e1-8f5f-1c680dc15711)
![슬라이드28](https://github.com/hongdayeah/itwillgirls/assets/132259579/d5e479f8-fb7a-456a-94ac-f8a05f6d1246)
